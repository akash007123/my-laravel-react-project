import{u as j,r as y,j as e,H as v,a as N}from"./app-CPgHXiD9.js";import{A as w}from"./app-layout-Dss9L6oa.js";import{A as _}from"./arrow-left-v6zDOzS2.js";import{S as C}from"./save-C9JWhMGr.js";import"./app-C8JSTOSC.js";import"./button-CTYswqwf.js";import"./index-DcRRyQYz.js";import"./index-B2uqG9qC.js";function I({event:a}){var g;const{data:r,setData:l,post:E,processing:d,errors:s}=j({title:a.title,description:a.description||"",event_date:a.event_date,start_time:a.start_time,end_time:a.end_time||"",location:a.location,capacity:((g=a.capacity)==null?void 0:g.toString())||"",status:a.status,organizer:a.organizer,tags:a.tags||[],image:null}),[c,m]=y.useState(""),u=["bg-yellow-100 text-yellow-800","bg-green-100 text-green-800","bg-blue-100 text-blue-800","bg-purple-100 text-purple-800","bg-pink-100 text-pink-800","bg-violet-100 text-violet-800","bg-neutral-100 text-neutral-800"];function x(){const t=c.trim();t&&!r.tags.includes(t)&&(l("tags",[...r.tags,t]),m(""))}function p(t){l("tags",r.tags.filter(i=>i!==t))}function b(t){t.preventDefault();const i=new FormData;i.append("_method","PUT"),Object.entries(r).forEach(([n,o])=>{n==="tags"?o.forEach((h,f)=>{i.append(`tags[${f}]`,h)}):o!=null&&i.append(n,o)}),N.post(route("events.update",a.id),i,{forceFormData:!0,onError:n=>{console.log("Validation errors:",n)},onSuccess:()=>{console.log("Update successful")}})}return e.jsxs(w,{children:[e.jsx(v,{title:`Edit ${a.title}`}),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("a",{href:route("events.show",a.id),className:"flex items-center text-gray-600 hover:text-gray-900",children:[e.jsx(_,{className:"h-4 w-4 mr-2"}),"Back to Event"]})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Edit Event"})]}),e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("form",{onSubmit:b,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Event Title *"}),e.jsx("input",{type:"text",value:r.title,onChange:t=>l("title",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),s.title&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.title})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Organizer *"}),e.jsx("input",{type:"text",value:r.organizer,onChange:t=>l("organizer",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),s.organizer&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.organizer})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("textarea",{value:r.description,onChange:t=>l("description",t.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Describe your event..."}),s.description&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.description})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Date and Time"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Event Date *"}),e.jsx("input",{type:"date",value:r.event_date,onChange:t=>l("event_date",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),s.event_date&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.event_date})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Time *"}),e.jsx("input",{type:"time",value:r.start_time,onChange:t=>l("start_time",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),s.start_time&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.start_time})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Time"}),e.jsx("input",{type:"time",value:r.end_time,onChange:t=>l("end_time",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),s.end_time&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.end_time})]})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Location and Capacity"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location *"}),e.jsx("input",{type:"text",value:r.location,onChange:t=>l("location",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter event location",required:!0}),s.location&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.location})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Capacity"}),e.jsx("input",{type:"number",value:r.capacity,onChange:t=>l("capacity",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Maximum number of attendees",min:"1"}),s.capacity&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.capacity})]})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Additional Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status *"}),e.jsxs("select",{value:r.status,onChange:t=>l("status",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[e.jsx("option",{value:"upcoming",children:"Upcoming"}),e.jsx("option",{value:"ongoing",children:"Ongoing"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]}),s.status&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.status})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Event Image"}),a.image_url&&e.jsx("div",{className:"mb-2",children:e.jsx("img",{src:a.image_url,alt:"Current event image",className:"w-20 h-20 object-cover rounded"})}),e.jsx("input",{type:"file",onChange:t=>{var i;return l("image",((i=t.target.files)==null?void 0:i[0])||null)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",accept:"image/*"}),s.image&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.image})]})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Tags"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:c,onChange:t=>m(t.target.value),onKeyPress:t=>{t.key==="Enter"&&(t.preventDefault(),x())},className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Add a tag and press Enter"}),e.jsx("button",{type:"button",onClick:x,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:"Add"})]}),r.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:r.tags.map((t,i)=>e.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${u[i%u.length]} flex items-center`,children:[t,e.jsx("button",{type:"button",onClick:()=>p(t),className:"ml-2 hover:text-red-600",children:"Ã—"})]},i))}),s.tags&&e.jsx("p",{className:"text-red-500 text-sm",children:s.tags})]})]}),e.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-200",children:e.jsxs("button",{type:"submit",disabled:d,className:"flex items-center px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(C,{className:"h-4 w-4 mr-2"}),d?"Updating...":"Update Event"]})})]})})})]})]})}export{I as default};
