import{r as l,a as v,j as e,H as w,L as y,b as H}from"./app-Bp6DQhxw.js";import{A as _,X as b}from"./app-layout-D8C2hzwB.js";import{H as k}from"./HolidayDetails-BostMQ7J.js";import{P as D}from"./plus-Dhmb4Xu8.js";import{E as C}from"./eye-CponDRu0.js";import{S as E}from"./square-pen-CgrUhG9k.js";import{T as S}from"./trash-2-DbdFrQTs.js";/* empty css            */import"./button-BbeW9tRv.js";import"./index-DrNIxP88.js";import"./createLucideIcon-OSqK8dsf.js";function F({holidays:r,user:p}){console.log("HolidaysIndex",r);const[c,i]=l.useState(null),[x,m]=l.useState(null),[t,d]=l.useState(null),{data:h,setData:o,put:j,processing:u,errors:a,reset:g}=v({holiday_name:"",holiday_date:""});l.useEffect(()=>{t?o({holiday_name:t.holiday_name,holiday_date:t.holiday_date}):g()},[t]);function f(s){s.preventDefault(),t&&j(route("holidays.update",t.id),{onSuccess:()=>d(null)})}function N(s){try{H.delete(route("holidays.destroy",s),{onSuccess:()=>{i(null)},onError:n=>{console.error("Delete error:",n)}})}catch(n){console.error("Route error:",n)}}return e.jsxs(_,{user:p,children:[e.jsx(w,{title:"Holidays"}),e.jsxs("div",{className:"container mx-auto px-4 py-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-10",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"ðŸŽ‰ Holidays"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Manage your organization's upcoming holidays"})]}),e.jsxs(y,{href:route("holidays.create"),className:"inline-flex items-center gap-2 px-5 py-2.5 bg-blue-600 text-white rounded-md shadow hover:bg-blue-700 transition-all",children:[e.jsx(D,{className:"w-5 h-5"}),e.jsx("span",{children:"Add Holiday"})]})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsx("tr",{children:["Day","Date","Holiday","Actions"].map(s=>e.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-gray-600 uppercase tracking-wide",children:s},s))})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-100 text-sm text-gray-700",children:r.length===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:4,className:"text-center py-8 text-gray-500",children:["No holidays found."," ",e.jsx(y,{href:route("holidays.create"),className:"text-blue-600 hover:underline",children:"Add your first holiday"})]})}):r.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[e.jsx("td",{className:"px-6 py-4 font-medium",children:s.day}),e.jsx("td",{className:"px-6 py-4",children:s.formatted_date}),e.jsx("td",{className:"px-6 py-4 font-semibold",children:s.holiday_name}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>m(s),className:"cursor-pointer text-blue-600 hover:text-blue-800 transition",title:"View",children:e.jsx(C,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>d(s),className:"cursor-pointer text-green-600 hover:text-green-800 transition",title:"Edit",children:e.jsx(E,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>i(s.id),className:"cursor-pointer text-red-600 hover:text-red-800 transition",title:"Delete",children:e.jsx(S,{className:"w-5 h-5"})})]})})]},s.id))})]})})})]}),x&&e.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"relative bg-white w-full max-w-2xl rounded-lg shadow-lg mx-4",children:[e.jsx("button",{onClick:()=>m(null),className:"absolute top-3 right-3 text-gray-500 hover:text-gray-700","aria-label":"Close",children:e.jsx(b,{className:"h-6 w-6"})}),e.jsx("div",{className:"max-h-[80vh] overflow-y-auto",children:e.jsx(k,{holiday:x,showHeaderActions:!1})})]})}),t&&e.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"relative bg-white w-full max-w-2xl rounded-lg shadow-lg mx-4",children:[e.jsx("button",{onClick:()=>d(null),className:"absolute top-3 right-3 text-gray-500 hover:text-gray-700","aria-label":"Close",children:e.jsx(b,{className:"h-6 w-6"})}),e.jsxs("div",{className:"max-h-[80vh] overflow-y-auto p-6",children:[e.jsxs("h3",{className:"text-xl font-semibold mb-6",children:["Edit ",t.holiday_name]}),e.jsxs("form",{onSubmit:f,className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Holiday Name *"}),e.jsx("input",{type:"text",value:h.holiday_name,onChange:s=>o("holiday_name",s.target.value),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"}),a.holiday_name&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.holiday_name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Holiday Date *"}),e.jsx("input",{type:"date",value:h.holiday_date,onChange:s=>o("holiday_date",s.target.value),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"}),a.holiday_date&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:a.holiday_date})]}),e.jsx("div",{className:"text-right"}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-100 gap-2",children:e.jsx("button",{type:"submit",disabled:u,className:"cursor-pointer flex items-center px-5 py-2.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 transition-all",children:u?"Updating...":"Update Holiday"})})]})]})]})}),c&&e.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-md w-full mx-4",children:[e.jsx("h3",{className:"text-lg font-bold mb-4 text-gray-900",children:"Delete Holiday"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete this holiday? This action cannot be undone."}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{onClick:()=>i(null),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),e.jsx("button",{onClick:()=>N(c),className:"px-5 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Delete"})]})]})})]})}export{F as default};
