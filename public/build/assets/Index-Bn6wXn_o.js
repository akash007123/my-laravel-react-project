import{r as c,a as k,j as e,H as D,b as g}from"./app-Bp6DQhxw.js";import{A as C,X as p}from"./app-layout-D8C2hzwB.js";import{P as S}from"./plus-Dhmb4Xu8.js";import{E}from"./eye-CponDRu0.js";import{P as A}from"./pencil--zo6a2QQ.js";import{T as H}from"./trash-2-DbdFrQTs.js";/* empty css            */import"./button-BbeW9tRv.js";import"./index-DrNIxP88.js";import"./createLucideIcon-OSqK8dsf.js";function R({user:j,department:u=[]}){const[y,n]=c.useState(!1),[m,h]=c.useState(null),[a,d]=c.useState(null),[o,x]=c.useState(null),{data:r,setData:l,post:f,processing:i,errors:s,reset:b}=k({department_head:"",department_name:""});function N(t){t.preventDefault(),f(route("department.store"),{onSuccess:()=>{n(!1),b()}})}function v(t){d(t),l({department_head:t.department_head||"",department_name:t.department_name})}function w(t){t.preventDefault(),a!=null&&a.id&&g.put(route("department.update",a.id),r,{onSuccess:()=>{d(null),b()}})}function _(){o&&g.delete(route("department.destroy",o),{onSuccess:()=>x(null)})}return e.jsxs(C,{user:j,children:[e.jsx(D,{title:"Department"}),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Department"}),e.jsxs("button",{onClick:()=>n(!0),className:"cursor-pointer px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 flex items-center",children:[e.jsx(S,{className:"w-4 h-4 mr-2"}),"Add"]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Head"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-6 py-4 text-center text-gray-500",children:"No departments yet."})}):u.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.department_name}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.department_head||"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>h(t),className:"cursor-pointer text-blue-600 hover:text-blue-800",title:"View",children:e.jsx(E,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>v(t),className:"cursor-pointer text-green-600 hover:text-green-800",title:"Edit",children:e.jsx(A,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>x(t.id),className:"cursor-pointer text-red-600 hover:text-red-800",title:"Delete",children:e.jsx(H,{className:"h-4 w-4"})})]})})]},t.id))})]})})})]}),y&&e.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md p-6 relative",children:[e.jsx("button",{onClick:()=>n(!1),className:"cursor-pointer absolute top-3 right-3 text-gray-500 hover:text-gray-700","aria-label":"Close",children:e.jsx(p,{className:"w-5 h-5"})}),e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Add Department"}),e.jsxs("form",{onSubmit:N,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department Head *"}),e.jsx("input",{type:"text",value:r.department_head,onChange:t=>l("department_head",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),s.department_head&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.department_head})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department Name *"}),e.jsx("input",{type:"text",value:r.department_name,onChange:t=>l("department_name",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),s.department_name&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.department_name})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:()=>n(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:i,className:"cursor-pointer px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:i?"Submitting...":"Submit"})]})]})]})}),m&&e.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md p-6 relative",children:[e.jsx("button",{onClick:()=>h(null),className:"cursor-pointer absolute top-3 right-3 text-gray-500 hover:text-gray-700","aria-label":"Close",children:e.jsx(p,{className:"w-5 h-5"})}),e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Department Details"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Name:"})," ",e.jsx("span",{className:"text-sm text-gray-900",children:m.department_name})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Head:"})," ",e.jsx("span",{className:"text-sm text-gray-900",children:m.department_head||"-"})]})]})]})}),a&&e.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md p-6 relative",children:[e.jsx("button",{onClick:()=>d(null),className:"cursor-pointer absolute top-3 right-3 text-gray-500 hover:text-gray-700","aria-label":"Close",children:e.jsx(p,{className:"w-5 h-5"})}),e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Edit Department"}),e.jsxs("form",{onSubmit:w,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department Head *"}),e.jsx("input",{type:"text",value:r.department_head,onChange:t=>l("department_head",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),s.department_head&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.department_head})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department Name *"}),e.jsx("input",{type:"text",value:r.department_name,onChange:t=>l("department_name",t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),s.department_name&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.department_name})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:()=>d(null),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:i,className:"cursor-pointer px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:i?"Updating...":"Update"})]})]})]})}),o&&e.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg w-full max-w-sm p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Delete Department"}),e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Are you sure you want to delete this department?"}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>x(null),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),e.jsx("button",{onClick:_,className:"cursor-pointer px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Delete"})]})]})})]})}export{R as default};
